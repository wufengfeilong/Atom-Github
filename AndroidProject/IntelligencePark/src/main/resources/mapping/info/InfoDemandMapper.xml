<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="fcn.co.jp.park.mapper.info.InfoDemandMapper" >
    <!-- 获取企业需求数量-->
    <select id="findDemandCount" parameterType="fcn.co.jp.park.util.PageData" resultType="java.lang.Integer">
       SELECT
       COUNT(0)
       FROM
       t_demand
    </select>
    <!-- 获取企业需求(列表) -->
    <select id="findDemandList" parameterType="fcn.co.jp.park.util.PageData" resultType="fcn.co.jp.park.util.PageData" useCache="false">
       SELECT
       demand_id AS demandId,
       category,
       title,
       contact,
       tel,
       source,
       DATE_FORMAT(update_timestamp,'%Y-%m-%d') UPDATE_TIMESTAMP
       FROM
       t_demand
       ORDER BY  update_timestamp DESC
       LIMIT    #{numS},#{numE}
    </select>

    <!-- 获取企业需求详细信息 -->
    <select id="getDemandInfo" parameterType="fcn.co.jp.park.util.PageData" resultType="fcn.co.jp.park.util.PageData" useCache="false">
        SELECT
        demand_id AS demandId,
        title,
        source,
        address,
        contact,
        tel,
        content
        FROM
        t_demand
        WHERE
        demand_id = #{demandId}
    </select>


</mapper>